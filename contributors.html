<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contributors | 100 Days of Web Projects</title>
    <link rel="icon" href="public/favv.png" type="image/x-icon" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: "#ff0077",
                        dark: "#002057",
                    },
                    fontFamily: {
                        sans: ["Poppins", "sans-serif"],
                    },
                },
            },
        };
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --bg-primary: #002057;
            --text-primary: #ffffff;
            --accent: #ff0077;
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.18);
        }

        [data-theme="light"] {
            --bg-primary: #f8fafc;
            --text-primary: #1a202c;
            --accent: #ff0077;
            --glass-bg: rgba(255, 255, 255, 0.8);
            --glass-border: rgba(0, 0, 0, 0.1);
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            font-family: 'Poppins', sans-serif;
        }

        .glass {
            backdrop-filter: blur(10px);
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
        }

        .skeleton {
            background: linear-gradient(90deg, #1a2e47 25%, #253c5c 50%, #1a2e47 75%);
            background-size: 400% 100%;
            animation: shimmer 1.2s infinite;
        }

        @keyframes shimmer {
            0% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0 50%;
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .animate-fade {
            animation: fadeIn 0.6s ease-out forwards;
        }
    </style>
</head>

<body class="min-h-screen transition-all">

    <!-- Navbar -->
    <nav class="fixed top-0 w-full z-50 bg-primary shadow-xl p-4">
        <div class="container mx-auto flex items-center justify-between">
            <a href="index.html" class="flex items-center gap-2 text-white font-bold text-lg">
                <img src="https://i.pinimg.com/736x/1c/54/f7/1c54f7b06d7723c21afc5035bf88a5ef.jpg"
                    class="h-10 rounded-full" />
                100_DAYS_100_WEB_PROJECTS
            </a>
            <div class="flex items-center gap-4">
                <a href="index.html#projects"
                    class="text-white hover:text-black font-semibold transition-colors">Projects</a>
                <a href="index.html#about" class="text-white hover:text-black font-semibold transition-colors">About</a>
                <a href="contributors.html"
                    class="text-white hover:text-black font-semibold transition-colors">Contributors</a>
            </div>
        </div>
    </nav>

    <!-- Theme Toggle -->
    <button id="themeToggle"
        class="fixed top-[100px] right-5 z-50 w-[60px] h-[30px] rounded-full glass text-lg flex items-center justify-center">üåô</button>

    <!-- Main Content -->
    <section class="pt-32 pb-20 px-6 max-w-7xl mx-auto">
        <h1 class="text-4xl md:text-5xl font-bold text-center text-primary mb-10">Project Contributors</h1>
        <div id="contributors" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            <!-- Skeleton loading cards -->
            <template id="skeleton">
                <div class="rounded-xl h-64 glass skeleton"></div>
            </template>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black text-white p-6 mt-10">
        <div class="container mx-auto grid md:grid-cols-3 gap-8">
            <div>
                <h2 class="text-lg font-semibold mb-4">100 Days Challenge</h2>
                <p class="text-white/70 mb-4">
                    This repository contains 100 web projects from basic to intermediate
                    using HTML, CSS, and JS. Each project is designed to teach specific
                    concepts and improve your coding skills.
                </p>
                <div class="flex gap-4">
                    <a href="https://www.instagram.com/" target="_blank"
                        class="text-pink-500 hover:text-pink-400 transition-colors"><i
                            class="fab fa-instagram fa-lg"></i></a>
                    <a href="https://github.com/rutikakengal/100DAYS_OF_100WEBPROJECTS" target="_blank"
                        class="text-white hover:text-gray-300 transition-colors"><i class="fab fa-github fa-lg"></i></a>
                    <a href="https://www.linkedin.com/in/rutika-kengal-8085092b7" target="_blank"
                        class="text-blue-400 hover:text-blue-300 transition-colors"><i
                            class="fab fa-linkedin fa-lg"></i></a>
                </div>
            </div>

            <div>
                <h2 class="text-lg font-semibold mb-4">Quick Links</h2>
                <ul class="space-y-2">
                    <li>
                        <a href="#projects" class="text-white/70 hover:text-white transition-colors">Browse Projects</a>
                    </li>
                    <li>
                        <a href="#about" class="text-white/70 hover:text-white transition-colors">About Challenge</a>
                    </li>
                    <li>
                        <a href="#" class="text-white/70 hover:text-white transition-colors">Contributors</a>
                    </li>
                    <li>
                        <a href="https://github.com/rutikakengal/100DAYS_OF_100WEBPROJECTS"
                            class="text-white/70 hover:text-white transition-colors">GitHub Repository</a>
                    </li>
                </ul>
            </div>

            <div>
                <h2 class="text-lg font-semibold mb-4">Technologies</h2>
                <div class="flex flex-wrap gap-2">
                    <span class="bg-orange-600 text-white px-3 py-1 rounded-full text-sm">HTML5</span>
                    <span class="bg-blue-600 text-white px-3 py-1 rounded-full text-sm">CSS3</span>
                    <span class="bg-yellow-600 text-white px-3 py-1 rounded-full text-sm">JavaScript</span>
                    <span class="bg-green-600 text-white px-3 py-1 rounded-full text-sm">Responsive</span>
                </div>
                <p class="mt-4 text-white/50 text-sm">
                    ¬©
                    <script>
                        document.write(new Date().getFullYear());
                    </script>
                    100DAYS_WEBPROJECTS by
                    <a href="#" class="underline hover:text-white transition-colors">Rutika Kengal</a>
                    & Contributors
                </p>
            </div>
        </div>
    </footer>

    <!-- Contributors Fetch Script -->
    <script>
        const container = document.getElementById('contributors');
        const skeletonTemplate = document.getElementById('skeleton');
        const CACHE_KEY = 'github_contributors';
        const CACHE_TIME = 1000 * 60 * 60; // 1 hour
        const REPO_API = 'https://api.github.com/repos/rutikakengal/100DAYS_OF_100WEBPROJECTS/contributors';

        function showSkeletons(count = 8) {
            container.innerHTML = '';
            for (let i = 0; i < count; i++) {
                container.appendChild(skeletonTemplate.content.cloneNode(true));
            }
        }

        function renderContributors(data) {
            container.innerHTML = '';
            data.forEach(user => {
                const card = document.createElement('div');
                card.className = 'glass p-6 rounded-xl text-center transition-all hover:scale-105 hover:shadow-xl duration-300 hover:bg-white/10';
                card.innerHTML = `
      <img src="${user.avatar_url}" alt="${user.login}" class="w-20 h-20 rounded-full mx-auto mb-4 border-2 border-primary" loading="lazy"/>
      <h3 class="text-xl font-bold text-primary">${user.login}</h3>
      <p class="text-sm text-gray-400 mb-2">@${user.login}</p>
      <p class="text-sm text-gray-400">üíª Contributions: ${user.contributions}</p>
      <a href="${user.html_url}" target="_blank" class="inline-block mt-4 text-sm text-primary hover:underline">GitHub Profile</a>
    `;
                container.appendChild(card);
            });
        }

        function renderErrorUI() {
            container.innerHTML = `
    <div class="glass p-6 rounded-xl text-center text-white animate-fade-in">
      <h3 class="text-2xl font-bold text-primary mb-2">‚ö†Ô∏è Contributors Unavailable</h3>
      <p class="text-white/80 mb-4">We couldn't load contributor data at this time. Please try again later.</p>
      <a href="https://github.com/rutikakengal/100DAYS_OF_100WEBPROJECTS" target="_blank" class="text-primary underline">View Repo on GitHub</a>
    </div>
  `;
        }

        async function fetchContributors() {
            showSkeletons();

            // 1. Check LocalStorage cache
            const cached = localStorage.getItem(CACHE_KEY);
            if (cached) {
                const parsed = JSON.parse(cached);
                if (Date.now() - parsed.timestamp < CACHE_TIME) {
                    renderContributors(parsed.data);
                    return;
                }
            }

            // 2. Fetch from GitHub REST API
            try {
                const response = await fetch(REPO_API);
                if (!response.ok) throw new Error('GitHub API failed');
                const contributors = await response.json();

                // ‚úÖ Save fresh data to localStorage
                localStorage.setItem(CACHE_KEY, JSON.stringify({
                    timestamp: Date.now(),
                    data: contributors
                }));

                renderContributors(contributors);
            } catch (err) {
                console.warn('GitHub API fetch failed:', err);
                renderErrorUI();
            }
        }

        // üöÄ Start loading
        fetchContributors();
    </script>



    <!-- Scroll to top button -->
    <button id="scrollBtn" onclick="scrollToTop()"
        class="fixed bottom-5 right-5 bg-primary text-white p-4 rounded-full shadow-lg btn-3d hidden">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Theme Toggle Script -->
    <script>

        const scrollBtn = document.getElementById("scrollBtn");
        window.onscroll = () => {
            if (document.documentElement.scrollTop > 100)
                scrollBtn.classList.remove("hidden");
            else scrollBtn.classList.add("hidden");
        };
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: "smooth" });
        }
        const themeToggle = document.getElementById("themeToggle");
        function setTheme(mode) {
            if (mode === "light") {
                document.documentElement.setAttribute("data-theme", "light");
                themeToggle.textContent = "üåû";
            } else {
                document.documentElement.removeAttribute("data-theme");
                themeToggle.textContent = "üåô";
            }
        }

        let currentTheme = localStorage.getItem("theme") || "dark";
        setTheme(currentTheme);

        themeToggle.addEventListener("click", () => {
            currentTheme = currentTheme === "dark" ? "light" : "dark";
            setTheme(currentTheme);
            localStorage.setItem("theme", currentTheme);
        });
    </script>

    <script src="script.js"></script>
</body>

</html>