<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://public-frontend-cos.metadl.com/mgx/img/favicon.png"
        type="image/png">
    <title>My Personal Diary</title>
 
    <style>
        :root {
    --primary-color: #4a6fa5;
    --primary-dark: #3a5982;
    --secondary-color: #e8eef7;
    --text-color: #333;
    --text-light: #666;
    --danger-color: #e74c3c;
    --success-color: #27ae60;
    --border-color: #ddd;
    --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    --transition: all 0.3s ease;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: var(--text-color);
    background-color: #f9f9f9;
    margin: 0;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

header {
    text-align: center;
    margin-bottom: 30px;
    padding: 20px 0;
    border-bottom: 1px solid var(--border-color);
}

h1 {
    color: var(--primary-color);
    font-size: 2.5rem;
}

.tagline {
    color: var(--text-light);
    font-style: italic;
}

main {
    flex: 1;
}

/* Diary Layout */
.diary-container {
    display: flex;
    background-color: #fff;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: var(--shadow);
    height: calc(100vh - 200px);
    min-height: 500px;
}

.sidebar {
    width: 300px;
    border-right: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    background-color: var(--secondary-color);
}

.sidebar-header {
    padding: 20px;
    border-bottom: 1px solid var(--border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.entry-list {
    flex: 1;
    overflow-y: auto;
    padding: 10px;
}

.entry-item {
    padding: 15px;
    border-bottom: 1px solid var(--border-color);
    cursor: pointer;
    transition: var(--transition);
}

.entry-item:hover {
    background-color: #f0f5ff;
}

.entry-item.active {
    background-color: #e0ebff;
    border-left: 4px solid var(--primary-color);
}

.entry-item h3 {
    color: var(--primary-color);
    margin-bottom: 5px;
    font-size: 1rem;
}

.entry-item .date {
    color: var(--text-light);
    font-size: 0.8rem;
}

#no-entries-message {
    color: var(--text-light);
    text-align: center;
    padding: 20px;
    font-style: italic;
}

.entry-view {
    flex: 1;
    padding: 30px;
    overflow-y: auto;
}

/* Entry Form */
.form-group {
    margin-bottom: 20px;
}

input[type="text"], textarea {
    width: 100%;
    padding: 12px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    font-size: 1rem;
    font-family: inherit;
    transition: var(--transition);
}

input[type="text"]:focus, textarea:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(74, 111, 165, 0.2);
}

textarea {
    min-height: 300px;
    resize: vertical;
}

.form-actions {
    display: flex;
    gap: 10px;
}

/* Entry Display */
.entry-header {
    margin-bottom: 20px;
}

#display-title {
    color: var(--primary-color);
    margin-bottom: 5px;
}

.entry-date {
    color: var(--text-light);
    font-style: italic;
}

.entry-body {
    margin-bottom: 30px;
    line-height: 1.8;
    white-space: pre-wrap;
}

.entry-actions {
    margin-top: 20px;
    display: flex;
    gap: 10px;
}

/* Buttons */
button {
    cursor: pointer;
    padding: 10px 15px;
    border: none;
    border-radius: 4px;
    font-size: 0.9rem;
    transition: var(--transition);
}

.primary-btn {
    background-color: var(--primary-color);
    color: #fff;
}

.primary-btn:hover {
    background-color: var(--primary-dark);
}

.secondary-btn {
    background-color: #f1f1f1;
    color: var(--text-color);
}

.secondary-btn:hover {
    background-color: #e3e3e3;
}

.danger-btn {
    background-color: var(--danger-color);
    color: white;
}

.danger-btn:hover {
    background-color: #c0392b;
}

/* Welcome message */
.welcome-message {
    text-align: center;
    color: var(--text-light);
    padding: 50px 0;
}

.welcome-message h2 {
    color: var(--primary-color);
    margin-bottom: 15px;
}

/* Footer */
footer {
    text-align: center;
    padding: 20px 0;
    margin-top: 20px;
    color: var(--text-light);
    border-top: 1px solid var(--border-color);
}

/* Modal */
.modal {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #fff;
    padding: 30px;
    border-radius: 8px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    z-index: 1000;
    max-width: 400px;
    width: 90%;
}

.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 999;
}

.modal h3 {
    margin-bottom: 15px;
    color: var(--text-color);
}

.modal p {
    margin-bottom: 20px;
}

.modal-actions {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
}

/* Utility Classes */
.hidden {
    display: none;
}

/* Responsive Design */
@media (max-width: 768px) {
    .diary-container {
        flex-direction: column;
        height: auto;
    }
    
    .sidebar {
        width: 100%;
        border-right: none;
        border-bottom: 1px solid var(--border-color);
        max-height: 300px;
    }
    
    .entry-view {
        padding: 20px;
    }
}
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>My Personal Diary</h1>
            <p class="tagline">Record your thoughts and memories</p>
        </header>
        
        <main>
            <div class="diary-container">
                <div class="sidebar">
                    <div class="sidebar-header">
                        <h2>Entries</h2>
                        <button id="new-entry-btn" class="primary-btn">New Entry</button>
                    </div>
                    <div class="entry-list" id="entry-list">
                        <!-- Entries will be added here dynamically -->
                        <p id="no-entries-message">No entries yet. Click "New Entry" to create one!</p>
                    </div>
                </div>
                
                <div class="entry-view">
                    <div id="welcome-message" class="welcome-message">
                        <h2>Welcome to your Diary!</h2>
                        <p>Select an entry to view or create a new one.</p>
                    </div>
                    
                    <div id="entry-form" class="hidden">
                        <div class="form-group">
                            <input type="text" id="entry-title" placeholder="Entry Title" required>
                        </div>
                        <div class="form-group">
                            <textarea id="entry-content" placeholder="Write your thoughts here..." required></textarea>
                        </div>
                        <div class="form-actions">
                            <button id="save-entry-btn" class="primary-btn">Save Entry</button>
                            <button id="cancel-entry-btn" class="secondary-btn">Cancel</button>
                        </div>
                    </div>
                    
                    <div id="entry-display" class="hidden">
                        <div class="entry-header">
                            <h2 id="display-title"></h2>
                            <p id="display-date" class="entry-date"></p>
                        </div>
                        <div class="entry-body">
                            <p id="display-content"></p>
                        </div>
                        <div class="entry-actions">
                            <button id="edit-entry-btn" class="secondary-btn">Edit</button>
                            <button id="delete-entry-btn" class="danger-btn">Delete</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <div id="confirmation-modal" class="modal hidden">
            <div class="modal-content">
                <h3>Confirm Delete</h3>
                <p>Are you sure you want to delete this entry? This action cannot be undone.</p>
                <div class="modal-actions">
                    <button id="confirm-delete-btn" class="danger-btn">Delete</button>
                    <button id="cancel-delete-btn" class="secondary-btn">Cancel</button>
                </div>
            </div>
        </div>
        
        <div id="modal-overlay" class="modal-overlay hidden"></div>
        
        <footer>
            <p>&copy; 2025 My Personal Diary - Your private space to reflect</p>
        </footer>
    </div>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
    console.log('Diary App initialized!');
    
    // DOM Elements
    const entryList = document.getElementById('entry-list');
    const noEntriesMessage = document.getElementById('no-entries-message');
    const newEntryBtn = document.getElementById('new-entry-btn');
    const welcomeMessage = document.getElementById('welcome-message');
    const entryForm = document.getElementById('entry-form');
    const entryDisplay = document.getElementById('entry-display');
    const entryTitleInput = document.getElementById('entry-title');
    const entryContentInput = document.getElementById('entry-content');
    const saveEntryBtn = document.getElementById('save-entry-btn');
    const cancelEntryBtn = document.getElementById('cancel-entry-btn');
    const displayTitle = document.getElementById('display-title');
    const displayDate = document.getElementById('display-date');
    const displayContent = document.getElementById('display-content');
    const editEntryBtn = document.getElementById('edit-entry-btn');
    const deleteEntryBtn = document.getElementById('delete-entry-btn');
    const confirmationModal = document.getElementById('confirmation-modal');
    const modalOverlay = document.getElementById('modal-overlay');
    const confirmDeleteBtn = document.getElementById('confirm-delete-btn');
    const cancelDeleteBtn = document.getElementById('cancel-delete-btn');
    
    // State
    let diaryEntries = [];
    let currentEntryId = null;
    let isEditMode = false;
    
    // Initialize app
    initApp();
    
    // Event Listeners
    newEntryBtn.addEventListener('click', createNewEntry);
    saveEntryBtn.addEventListener('click', saveEntry);
    cancelEntryBtn.addEventListener('click', cancelEntry);
    editEntryBtn.addEventListener('click', editEntry);
    deleteEntryBtn.addEventListener('click', showDeleteConfirmation);
    confirmDeleteBtn.addEventListener('click', deleteEntry);
    cancelDeleteBtn.addEventListener('click', hideDeleteConfirmation);
    modalOverlay.addEventListener('click', hideDeleteConfirmation);
    
    // Functions
    function initApp() {
        loadEntriesFromLocalStorage();
        renderEntryList();
    }
    
    function loadEntriesFromLocalStorage() {
        const storedEntries = localStorage.getItem('diaryEntries');
        if (storedEntries) {
            diaryEntries = JSON.parse(storedEntries);
        }
    }
    
    function saveEntriesToLocalStorage() {
        localStorage.setItem('diaryEntries', JSON.stringify(diaryEntries));
    }
    
    function renderEntryList() {
        // Clear previous entries except the no entries message
        const listItems = entryList.querySelectorAll('.entry-item');
        listItems.forEach(item => item.remove());
        
        // Show/hide no entries message
        if (diaryEntries.length === 0) {
            noEntriesMessage.classList.remove('hidden');
        } else {
            noEntriesMessage.classList.add('hidden');
            
            // Sort entries by date (newest first)
            diaryEntries.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            // Render each entry
            diaryEntries.forEach(entry => {
                const entryItem = document.createElement('div');
                entryItem.className = 'entry-item';
                if (currentEntryId === entry.id) {
                    entryItem.classList.add('active');
                }
                
                const date = new Date(entry.date);
                const formattedDate = formatDate(date);
                
                entryItem.innerHTML = `
                    <h3>${entry.title}</h3>
                    <p class="date">${formattedDate}</p>
                `;
                
                entryItem.addEventListener('click', () => selectEntry(entry.id));
                
                entryList.appendChild(entryItem);
            });
        }
    }
    
    function formatDate(date) {
        const options = { 
            year: 'numeric', 
            month: 'long', 
            day: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
        };
        return date.toLocaleDateString('en-US', options);
    }
    
    function selectEntry(id) {
        currentEntryId = id;
        const entry = diaryEntries.find(entry => entry.id === id);
        
        if (entry) {
            displayTitle.textContent = entry.title;
            displayDate.textContent = formatDate(new Date(entry.date));
            displayContent.textContent = entry.content;
            
            hideAllViews();
            entryDisplay.classList.remove('hidden');
            
            // Update active state in list
            renderEntryList();
        }
    }
    
    function createNewEntry() {
        hideAllViews();
        entryForm.classList.remove('hidden');
        
        // Clear form
        entryTitleInput.value = '';
        entryContentInput.value = '';
        
        isEditMode = false;
        currentEntryId = null;
        
        entryTitleInput.focus();
    }
    
    function saveEntry() {
        const title = entryTitleInput.value.trim();
        const content = entryContentInput.value.trim();
        
        if (!title || !content) {
            alert('Please fill in both title and content fields.');
            return;
        }
        
        if (isEditMode && currentEntryId) {
            // Update existing entry
            const index = diaryEntries.findIndex(entry => entry.id === currentEntryId);
            if (index !== -1) {
                diaryEntries[index].title = title;
                diaryEntries[index].content = content;
                diaryEntries[index].lastEdited = new Date().toISOString();
            }
        } else {
            // Create new entry
            const newEntry = {
                id: generateId(),
                title: title,
                content: content,
                date: new Date().toISOString(),
                lastEdited: null
            };
            
            diaryEntries.push(newEntry);
            currentEntryId = newEntry.id;
        }
        
        saveEntriesToLocalStorage();
        renderEntryList();
        selectEntry(currentEntryId);
    }
    
    function cancelEntry() {
        hideAllViews();
        
        if (currentEntryId) {
            selectEntry(currentEntryId);
        } else {
            welcomeMessage.classList.remove('hidden');
        }
    }
    
    function editEntry() {
        const entry = diaryEntries.find(entry => entry.id === currentEntryId);
        
        if (entry) {
            entryTitleInput.value = entry.title;
            entryContentInput.value = entry.content;
            
            hideAllViews();
            entryForm.classList.remove('hidden');
            
            isEditMode = true;
            entryTitleInput.focus();
        }
    }
    
    function showDeleteConfirmation() {
        confirmationModal.classList.remove('hidden');
        modalOverlay.classList.remove('hidden');
    }
    
    function hideDeleteConfirmation() {
        confirmationModal.classList.add('hidden');
        modalOverlay.classList.add('hidden');
    }
    
    function deleteEntry() {
        if (currentEntryId) {
            diaryEntries = diaryEntries.filter(entry => entry.id !== currentEntryId);
            saveEntriesToLocalStorage();
            
            hideDeleteConfirmation();
            hideAllViews();
            
            currentEntryId = null;
            
            renderEntryList();
            
            if (diaryEntries.length > 0) {
                // Select the newest entry
                selectEntry(diaryEntries[0].id);
            } else {
                welcomeMessage.classList.remove('hidden');
            }
        }
    }
    
    function hideAllViews() {
        welcomeMessage.classList.add('hidden');
        entryForm.classList.add('hidden');
        entryDisplay.classList.add('hidden');
    }
    
    function generateId() {
        return Date.now().toString(36) + Math.random().toString(36).substr(2, 5);
    }
});</script>
</body>

</html>